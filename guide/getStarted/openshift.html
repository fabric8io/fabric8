<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Native OpenShift | Fabric8 Documentation</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.5.1">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-anchors/plugin.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="../getStarted/gke.html" />
    
    
    <link rel="prev" href="../getStarted/vagrant.html" />
    

        
    </head>
    <body>
        
        
    <div class="book" data-level="2.2" data-chapter-title="Native OpenShift" data-filepath="getStarted/openshift.md" data-basepath=".." data-revision="Thu Oct 29 2015 06:31:25 GMT+0000 (UTC)">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="overview.html">
            
                
                    <a href="../overview.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Overview
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="getStarted/index.html">
            
                
                    <a href="../getStarted/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Getting Started
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="getStarted/vagrant.html">
            
                
                    <a href="../getStarted/vagrant.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Fabric8 Vagrant Image
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="2.2" data-path="getStarted/openshift.html">
            
                
                    <a href="../getStarted/openshift.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Native OpenShift
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="getStarted/gke.html">
            
                
                    <a href="../getStarted/gke.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Native Kubernetes on GKE
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="getStarted/local.html">
            
                
                    <a href="../getStarted/local.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        Local OpenShift Client
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="getStarted/apps.html">
            
                
                    <a href="../getStarted/apps.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                        Install on OpenShift
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="getStarted/develop.html">
            
                
                    <a href="../getStarted/develop.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.</b>
                        
                        Develop locally
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="getStarted/browserCertificates.html">
            
                
                    <a href="../getStarted/browserCertificates.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.7.</b>
                        
                        Accept self-signed certs
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="quickstarts/index.html">
            
                
                    <a href="../quickstarts/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Fabric8 Quickstarts
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="quickstarts/archetypes.html">
            
                
                    <a href="../quickstarts/archetypes.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Archetypes
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="quickstarts/running.html">
            
                
                    <a href="../quickstarts/running.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Running
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="quickstarts/walkthrough.html">
            
                
                    <a href="../quickstarts/walkthrough.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        Walk-through
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="fabric8DevOps.html">
            
                
                    <a href="../fabric8DevOps.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Fabric8 DevOps
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="cdelivery.html">
            
                
                    <a href="../cdelivery.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        CI and CD
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1" data-path="jenkinsWorkflowLibrary.html">
            
                
                    <a href="../jenkinsWorkflowLibrary.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.1.</b>
                        
                        Jenkins Workflow Library
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.1.2" data-path="fabric8YmlFile.html">
            
                
                    <a href="../fabric8YmlFile.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.2.</b>
                        
                        fabric8.yml file
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="chat.html">
            
                
                    <a href="../chat.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        Chat
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="chaosMonkey.html">
            
                
                    <a href="../chaosMonkey.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        Chaos Monkey
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="management.html">
            
                
                    <a href="../management.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                        Management
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.4.1" data-path="console.html">
            
                
                    <a href="../console.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.1.</b>
                        
                        Console
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.4.2" data-path="logging.html">
            
                
                    <a href="../logging.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.2.</b>
                        
                        Logging
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.4.3" data-path="metrics.html">
            
                
                    <a href="../metrics.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.3.</b>
                        
                        Metrics
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="ipaas.html">
            
                
                    <a href="../ipaas.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Fabric8 iPaaS
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="apiRegistry.html">
            
                
                    <a href="../apiRegistry.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        API Registry
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="fabric8MQ.html">
            
                
                    <a href="../fabric8MQ.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        MQ
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="fabric8MQAutoScaler.html">
            
                
                    <a href="../fabric8MQAutoScaler.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                        MQ AutoScaler
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="apiManagement.html">
            
                
                    <a href="../apiManagement.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.</b>
                        
                        API Management
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.4.1" data-path="apimanComponents.html">
            
                
                    <a href="../apimanComponents.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.1.</b>
                        
                        Apiman Components
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.4.2" data-path="apimanGettingStarted.html">
            
                
                    <a href="../apimanGettingStarted.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.2.</b>
                        
                        Getting Started
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.4.3" data-path="apimanDataModel.html">
            
                
                    <a href="../apimanDataModel.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.3.</b>
                        
                        Data Model
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.4.4" data-path="apimanImportService.html">
            
                
                    <a href="../apimanImportService.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.4.</b>
                        
                        Publish Service
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="tools.html">
            
                
                    <a href="../tools.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Fabric8 Tools
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="mavenPlugin.html">
            
                
                    <a href="../mavenPlugin.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        Maven Plugin
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1.1" data-path="mavenDockerBuild.html">
            
                
                    <a href="../mavenDockerBuild.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.1.</b>
                        
                        docker:build
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.1.2" data-path="mavenDockerPush.html">
            
                
                    <a href="../mavenDockerPush.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.2.</b>
                        
                        docker:push
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.1.3" data-path="mavenFabric8Apply.html">
            
                
                    <a href="../mavenFabric8Apply.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.3.</b>
                        
                        fabric8:apply
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.1.4" data-path="mavenFabric8CreateEnv.html">
            
                
                    <a href="../mavenFabric8CreateEnv.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.4.</b>
                        
                        fabric8:create-env
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.1.5" data-path="mavenFabric8CreateRoutes.html">
            
                
                    <a href="../mavenFabric8CreateRoutes.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.5.</b>
                        
                        fabric8:create-routes
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.1.6" data-path="mavenFabric8DeletePods.html">
            
                
                    <a href="../mavenFabric8DeletePods.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.6.</b>
                        
                        fabric8:delete-pods
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.1.7" data-path="mavenFabric8DevOps.html">
            
                
                    <a href="../mavenFabric8DevOps.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.7.</b>
                        
                        fabric8:devops
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.1.8" data-path="mavenFabric8Json.html">
            
                
                    <a href="../mavenFabric8Json.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.8.</b>
                        
                        fabric8:json
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1.8.1" data-path="annotationProcessors.html">
            
                
                    <a href="../annotationProcessors.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.8.1.</b>
                        
                        annotation processors
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6.1.9" data-path="mavenFabric8Recreate.html">
            
                
                    <a href="../mavenFabric8Recreate.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.9.</b>
                        
                        fabric8:recreate
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.1.10" data-path="mavenFabric8Rolling.html">
            
                
                    <a href="../mavenFabric8Rolling.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.10.</b>
                        
                        fabric8:rolling
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="testing.html">
            
                
                    <a href="../testing.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                        Integration and System Testing
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="javaLibraries.html">
            
                
                    <a href="../javaLibraries.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.3.</b>
                        
                        Java Libraries
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="cdi.html">
            
                
                    <a href="../cdi.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.4.</b>
                        
                        CDI
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.5" data-path="forge.html">
            
                
                    <a href="../forge.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.5.</b>
                        
                        Forge Addons
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="annotations.html">
            
                
                    <a href="../annotations.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        Annotations
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="secretAnnotations.html">
            
                
                    <a href="../secretAnnotations.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                        Secret Annotations
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8" data-path="architecture.html">
            
                
                    <a href="../architecture.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        Architecture
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.1" data-path="pods.html">
            
                
                    <a href="../pods.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.1.</b>
                        
                        Pods
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.2" data-path="replicationControllers.html">
            
                
                    <a href="../replicationControllers.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.</b>
                        
                        Replication Controllers
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.3" data-path="labels.html">
            
                
                    <a href="../labels.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.3.</b>
                        
                        Labels
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.4" data-path="services.html">
            
                
                    <a href="../services.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.4.</b>
                        
                        Services
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.5" data-path="apps.html">
            
                
                    <a href="../apps.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.5.</b>
                        
                        Apps
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.6" data-path="environments.html">
            
                
                    <a href="../environments.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.6.</b>
                        
                        Environments
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.7" data-path="builds.html">
            
                
                    <a href="../builds.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.7.</b>
                        
                        Builds
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="9" data-path="v2-changes.html">
            
                
                    <a href="../v2-changes.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                        Changes from V1
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10" data-path="FAQ.html">
            
                
                    <a href="../FAQ.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                        FAQ
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="10.1" data-path="faqGeneral.html">
            
                
                    <a href="../faqGeneral.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.1.</b>
                        
                        General Questions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.2" data-path="faqFuse.html">
            
                
                    <a href="../faqFuse.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.2.</b>
                        
                        JBoss Fuse Questions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.3" data-path="faqKubernetes.html">
            
                
                    <a href="../faqKubernetes.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.3.</b>
                        
                        Kubernetes Questions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.4" >
            
                
                    <a target="_blank" href="https:/help.openshift.com/hc/en-us/categories/200177370-Frequently-Asked-Questions">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.4.</b>
                        
                        OpenShift Questions
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >Fabric8 Documentation</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h2 id="getting-started-with-native-openshift"><a name="getting-started-with-native-openshift" class="plugin-anchor" href="#getting-started-with-native-openshift"><span class="fa fa-link"></span></a>Getting Started with native OpenShift</h2>
<p>As an alternative to the all-in-one <a href="vagrant.html">Vagrant image</a>, fabric8 can be installed on top of a
native <a href="http://www.openshift.org/" target="_blank">OpenShift V3</a> Linux installation. </p>
<h3 id="install-openshift-on-linux"><a name="install-openshift-on-linux" class="plugin-anchor" href="#install-openshift-on-linux"><span class="fa fa-link"></span></a>Install OpenShift on Linux</h3>
<p>The following steps work on a Linux box. If you are on OS X or Windows then check out how to use 
<a href="vagrant.html">the Fabric8 Vagrant box</a> which contains a full feature OpenShift V3 installation.</p>
<h4 id="openshift-openshift-installation"><a name="openshift-openshift-installation" class="plugin-anchor" href="#openshift-openshift-installation"><span class="fa fa-link"></span></a>OpenShift OpenShift installation</h4>
<p>We recommend you check out the <a href="https://docs.openshift.org/latest/getting_started/administrators.html" target="_blank">OpenShift Origin Installation documentation</a> 
as the default way to install <a href="http://www.openshift.org/" target="_blank">OpenShift V3</a> before trying the alternative approach. Be sure that you 
install the router and registry and described <a href="#openshift-configuration">below</a> which has to be done in any case. </p>
<h4 id="alternative-installation-route"><a name="alternative-installation-route" class="plugin-anchor" href="#alternative-installation-route"><span class="fa fa-link"></span></a>Alternative Installation route</h4>
<p>Here&apos;s an alternative installation approach which could be tried if the guide in the previous section doesn&apos;t work 
for you.</p>
<ul>
<li>You should have installed <a href="https://docs.docker.com/installation/#installation" target="_blank">Docker 1.6 or later</a> and have 
the docker daemon running (see instructions for <a href="https://docs.docker.com/installation/centos/" target="_blank">CentOs</a>, 
<a href="https://docs.docker.com/installation/fedora/" target="_blank">Fedora</a> or <a href="https://docs.docker.com/installation/ubuntulinux/" target="_blank">Ubuntu</a>)</li>
<li>Download and unpack a <a href="https://github.com/openshift/origin/releases/" target="_blank">release of OpenShift 1.0 or later</a>:</li>
</ul>
<pre><code class="lang-sh">curl -L https://github.com/openshift/origin/releases/download/v1.<span class="hljs-number">0.0</span>/openshift-origin-v1.<span class="hljs-number">0.0</span>-<span class="hljs-number">67617</span>dd-linux-amd64.tar.gz | tar xzv
</code></pre>
<p>Now setup <code>$OPENSHIFT_MASTER</code> to point to the IP address or host name of the OpenShift master:</p>
<pre><code class="lang-sh"><span class="hljs-built_in">export</span> OPENSHIFT_MASTER=https://localhost:<span class="hljs-number">8443</span>
</code></pre>
<p>Then start OpenShift:</p>
<pre><code class="lang-sh">nohup ./openshift start \
        --cors-allowed-origins=<span class="hljs-string">&apos;.*&apos;</span> \
        --master=<span class="hljs-variable">$OPENSHIFT_MASTER</span> \
        --volume-dir=/var/lib/openshift/openshift.local.volumes \
        --etcd-dir=/var/lib/openshift/openshift.local.etcd \
        &gt; /var/lib/openshift/openshift.log &amp;
</code></pre>
<p>When running commands on the OpenShift master type the following to avoid you having to add <code>--config=....</code> arguments:</p>
<pre><code class="lang-sh">mkdir -p ~/.kube
ln <span class="hljs-operator">-s</span> `<span class="hljs-built_in">pwd</span>`/openshift.local.config/master/admin.kubeconfig ~/.kube/config
</code></pre>
<h3 id="openshift-configuration"><a name="openshift-configuration" class="plugin-anchor" href="#openshift-configuration"><span class="fa fa-link"></span></a>OpenShift configuration</h3>
<p>OpenShift needs some extra installation steps in order to be able to run all the <a href="apps.html">Fabric8 apps</a>. 
Various apps (like <a href="../cdelivery.html">Continuous Delivery</a> and <a href="../fabric8MQ.html">MQ</a> requires secrets and service accounts to be setup). </p>
<h4 id="add-roles"><a name="add-roles" class="plugin-anchor" href="#add-roles"><span class="fa fa-link"></span></a>Add roles</h4>
<p>The following commands assume you are on the OpenShift master machine :</p>
<ul>
<li>Enable the <code>cluster-admin</code> role to user <code>admin</code></li>
</ul>
<pre><code>oadm policy add-cluster-role-to-user cluster-admin admin
</code></pre><h4 id="run-the-gofabric8-installer"><a name="run-the-gofabric8-installer" class="plugin-anchor" href="#run-the-gofabric8-installer"><span class="fa fa-link"></span></a>Run the gofabric8 installer</h4>
<p><a href="https://github.com/fabric8io/gofabric8" target="_blank">gofabric8</a> is a useful installer for fabric8. </p>
<p><a href="https://github.com/fabric8io/gofabric8/releases" target="_blank">Download a gofabric8 binary</a> and add it to your <code>$PATH</code> </p>
<p>Now type the following:</p>
<pre><code class="lang-sh">gofabric8 deploy -y
gofabric8 secrets -y
</code></pre>
<p>At any point you can validate your installation via:</p>
<pre><code class="lang-sh">gofabric8 validate
</code></pre>
<p>You can also eagerly pull docker images for a Fabric8 template via the <code>pull</code> command</p>
<pre><code class="lang-sh">gofabric8 pull <span class="hljs-built_in">cd</span>-pipeline
</code></pre>
<h4 id="enable-the-openshift-router-and-registry"><a name="enable-the-openshift-router-and-registry" class="plugin-anchor" href="#enable-the-openshift-router-and-registry"><span class="fa fa-link"></span></a>Enable the OpenShift router and registry</h4>
<p>The <a href="https://docs.openshift.org/latest/architecture/core_concepts/routes.html#haproxy-template-router" target="_blank">OpenShift Router</a> enables 
external access to services inside a Kubernetes cluster using <a href="http://www.haproxy.org/" target="_blank">HAProxy</a>; e.g. so you can access web apps 
from your browser for apps running inside Kubernetes.</p>
<p>The <a href="https://docs.openshift.org/latest/architecture/infrastructure_components/image_registry.html" target="_blank">OpenShift Registry</a> is used 
as an internal registry for holding Docker images for Kubernetes.</p>
<p>The detailed instructions for installing these components can be found in the 
<a href="https://docs.openshift.org/latest/admin_guide/install/deploy_router.html" target="_blank">Router installation documentation</a> and
the <a href="https://docs.openshift.org/latest/admin_guide/install/docker_registry.html" target="_blank">Registry installation documentation</a>. In short it 
boils down to these two commands:</p>
<pre><code>oadm router --create --credentials=/var/lib/openshift/openshift.local.config/master/openshift-router.kubeconfig
oadm registry --create --credentials=openshift.local.config/master/openshift-registry.kubeconfig
</code></pre><h3 id="next-steps"><a name="next-steps" class="plugin-anchor" href="#next-steps"><span class="fa fa-link"></span></a>Next steps</h3>
<p>As the next step you can now <a href="local.html">setup the OpenShift client</a> and install 
the <a href="apps.html">fabric8 applications</a></p>
<h2 id="troubleshooting"><a name="troubleshooting" class="plugin-anchor" href="#troubleshooting"><span class="fa fa-link"></span></a>Troubleshooting</h2>
<p>If you are having issues logging into th econsole, ensure you&apos;ve enabled <code>cors-allowed</code> as shown above in the <code>./openshift start</code> command. </p>
<p>Another way to do that is to edit the <code>/etc/openshift/master/master-config.yaml</code> file <a href="https://github.com/fabric8io/gofabric8/issues/17#issuecomment-149788441" target="_blank">and add en entry like the following</a>:</p>
<pre><code>$vi /etc/openshift/master/master-config.yaml
</code></pre><p>then add:</p>
<pre><code>corsAllowedOrigins:
  - .*
</code></pre><p>After making a change then run:</p>
<pre><code>$ restart master
systemctl restart openshift-master
</code></pre><p>Also <a href="https://github.com/fabric8io/fabric8/issues/4866#issue-109652169" target="_blank">make sure your user has a login via web console</a> e.g. if using HTPasswdPasswordIdentityProvider in OSEv3</p>
<pre><code>htpasswd -b /etc/openshift-passwd admin admin
</code></pre><h3 id="if-you-ran-gofabric8-with-the-wrong-domain"><a name="if-you-ran-gofabric8-with-the-wrong-domain" class="plugin-anchor" href="#if-you-ran-gofabric8-with-the-wrong-domain"><span class="fa fa-link"></span></a>If you ran gofabric8 with the wrong domain</h3>
<p>You might have the wrong domain setup for the fabric8 ServiceAccount. You should be able to see this via</p>
<pre><code>oc get oauthclient fabric8
</code></pre><p>If its got the wrong domain for the redirect URIs, just delete it and re-run gofabric8.</p>
<pre><code>oc delete oauthclient fabric8
gofabric8 deploy -y -d my-new-domain.com
gofabric8 secrets -y
oc get oauthclient fabric8
</code></pre><p>Though there&apos;s a pending issue to do this automatically whenever you run gofabric8 deploy </p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../getStarted/vagrant.html" class="navigation navigation-prev " aria-label="Previous page: Fabric8 Vagrant Image"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../getStarted/gke.html" class="navigation navigation-next " aria-label="Next page: Native Kubernetes on GKE"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"anchors":{},"highlight":{},"search":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
