#
# Copyright (C) Red Hat, Inc.
# http://redhat.com
#
# Licensed under the Apache License, Version 2.0 (the License);
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an AS IS BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

# container

kind = rhq-agent
rhq-version=4.4.0.JON312GA
url = mvn:org.rhq/rhq-enterprise-agent/${rhq-version}
# disable archive extract, since the archive is an executable JAR file
extractCmd =

# deployments
profiles =

# variables
layout=rhq-agent

# container ZK propeties
zookeeperUrl=${zk:/fabric/configs/ensemble/url}
zookeeperPassword=${zk:/fabric/configs/ensemble/password}

# values to substitute in fabric-agent-configuration.xml.mvel
# properties which should be skipped/deleted/do not have a default value are designated with the value "__default__"
rhq_agent_configuration_schema_version=6
rhq_agent_name=${container:localhostname}

rhq_agent_server_transport=servlet
rhq_agent_server_bind_port=7080
# this property must be set in a child profile
#rhq_agent_server_bind_address=__default__
rhq_agent_server_transport_params=/jboss-remoting-servlet-invoker/ServerInvokerServlet
rhq_agent_server_alias=rhqserver
rhq_agent_server_auto_detection=false

rhq_agent_register_with_server_at_startup=true
rhq_agent_wait_for_server_at_startup_msecs=60000
rhq_agent_update_plugins_at_startup=true
rhq_agent_test_failover_list_at_startup=true

rhq_agent_agent_update_enabled=true
rhq_agent_agent_update_version_url=__default__
rhq_agent_agent_update_download_url=__default__

rhq_agent_primary_server_switchover_check_interval_msecs=3600000

rhq_agent_vm_health_check_interval_msecs=5000
rhq_agent_vm_health_check_low_heap_mem_threshold=0.90
rhq_agent_vm_health_check_low_nonheap_mem_threshold=0.90

rhq_agent_data_directory=data

rhq_agent_client_queue_size=50000
rhq_agent_client_max_concurrent=5
rhq_agent_client_command_timeout_msecs=600000
rhq_agent_client_retry_interval_msecs=15000
rhq_agent_client_max_retries=10
rhq_agent_client_server_polling_interval_msecs=60000
rhq_agent_client_command_spool_file_name=command-spool.dat
rhq_agent_client_command_spool_file_params=10000000:75
rhq_agent_client_command_spool_file_compressed=true
rhq_agent_client_send_throttling=100:1000
rhq_agent_client_queue_throttling=200:2000
rhq_agent_client_command_preprocessors=org.rhq.enterprise.agent.SecurityTokenCommandPreprocessor:org.rhq.enterprise.agent.ExternalizableStrategyCommandPreprocessor

rhq_agent_disable_native_system=false

rhq_agent_plugins_directory=plugins
rhq_agent_plugins_operation_invocation_timeout_secs=__default__
rhq_agent_plugins_operation_invoker_threadpool_size=__default__
rhq_agent_plugins_server_discovery_initial_delay_secs=__default__
rhq_agent_plugins_server_discovery_period_secs=__default__
rhq_agent_plugins_service_discovery_initial_delay_secs=__default__
rhq_agent_plugins_service_discovery_period_secs=__default__
rhq_agent_plugins_child_discovery_delay_secs=__default__
rhq_agent_plugins_availability_scan_initial_delay_secs=__default__
rhq_agent_plugins_availability_scan_period_secs=__default__
rhq_agent_plugins_measurement_collection_threadpool_size=__default__
rhq_agent_plugins_measurement_collection_initial_delay_secs=__default__
rhq_agent_plugins_drift_detection_initial_delay_secs=__default__
rhq_agent_plugins_drift_detection_period_secs=__default__
rhq_agent_plugins_content_discovery_threadpool_size=__default__
rhq_agent_plugins_content_discovery_initial_delay_secs=__default__
rhq_agent_plugins_content_discovery_period_secs=__default__
rhq_agent_plugins_configuration_discovery_initial_delay_secs=__default__
rhq_agent_plugins_configuration_discovery_period_secs=__default__
rhq_agent_plugins_event_sender_initial_delay_secs=__default__
rhq_agent_plugins_event_sender_period_secs=__default__
rhq_agent_plugins_event_report_max_per_source=__default__
rhq_agent_plugins_event_report_max_total=__default__
rhq_agent_plugins_disabled=__default__

rhq_communications_configuration_schema_version=1
rhq_communications_service_container_mbean_server_name=__default__
rhq_communications_data_directory=__default__
rhq_communications_global_concurrency_limit=-1
rhq_communications_multicast_detector_enabled=false
rhq_communications_multicast_detector_multicast_address=224.16.16.16
rhq_communications_multicast_detector_bind_address=0.0.0.0
rhq_communications_multicast_detector_port=16162
rhq_communications_multicast_detector_default_time_delay=5000
rhq_communications_multicast_detector_heartbeat_time_delay=1000
rhq_communications_connector_rhqtype=agent
rhq_communications_connector_transport=socket
rhq_communications_connector_bind_port=${port:16163,16173}
rhq_communications_connector_bind_address=${container:ip}
rhq_communications_connector_transport_params=__default__
rhq_communications_connector_lease_period=__default__
rhq_communications_connector_security_secure_socket_protocol=__default__
rhq_communications_connector_security_keystore_file=__default__
rhq_communications_connector_security_keystore_algorithm=__default__
rhq_communications_connector_security_keystore_type=__default__
rhq_communications_connector_security_keystore_password=__default__
rhq_communications_connector_security_keystore_key_password=__default__
rhq_communications_connector_security_keystore_alias=__default__
rhq_communications_connector_security_truststore_file=__default__
rhq_communications_connector_security_truststore_algorithm=__default__
rhq_communications_connector_security_truststore_type=__default__
rhq_communications_connector_security_truststore_password=__default__
rhq_communications_connector_security_client_auth_mode=__default__

rhq_agent_client_security_secure_socket_protocol=__default__
rhq_agent_client_security_keystore_file=__default__
rhq_agent_client_security_keystore_algorithm=__default__
rhq_agent_client_security_keystore_type=__default__
rhq_agent_client_security_keystore_password=__default__
rhq_agent_client_security_keystore_key_password=__default__
rhq_agent_client_security_keystore_alias=__default__
rhq_agent_client_security_truststore_file=__default__
rhq_agent_client_security_truststore_algorithm=__default__
rhq_agent_client_security_truststore_type=__default__
rhq_agent_client_security_truststore_password=__default__
rhq_agent_client_security_server_auth_mode_enabled=__default__

rhq_communications_remote_stream_max_idle_time_msecs=300000
rhq_communications_command_service_directory_allow_dynamic_discovery=true
rhq_communications_command_services=org.rhq.enterprise.communications.command.impl.echo.server.EchoCommandService, org.rhq.enterprise.communications.command.impl.identify.server.IdentifyCommandService
rhq_communications_remote_pojos=org.rhq.enterprise.communications.PingImpl:org.rhq.enterprise.communications.Ping
