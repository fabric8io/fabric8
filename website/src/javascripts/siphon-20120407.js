/*! JsRender v1.0pre: http://github.com/BorisMoore/jsrender */
this.jsviews||this.jQuery&&jQuery.views||(function(window,undefined){var versionNumber="v1.0pre",$,rTag,rTmplString,extend,sub={},FALSE=false,TRUE=true,jQuery=window.jQuery,rPath=/^(?:null|true|false|\d[\d.]*|([\w$]+|~([\w$]+)|#(view|([\w$]+))?)([\w$.]*?)(?:[.[]([\w$]+)\]?)?|(['"]).*\8)$/g,rParams=/(\()(?=|\s*\()|(?:([([])\s*)?(?:([#~]?[\w$.]+)?\s*((\+\+|--)|\+|-|&&|\|\||===|!==|==|!=|<=|>=|[<>%*!:?\/]|(=))\s*|([#~]?[\w$.]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*([)\]])([([]?))|(\s+)/g,rNewLine=/\r?\n/g,rUnescapeQuotes=/\\(['"])/g,rEscapeQuotes=/\\?(['"])/g,rBuildHash=/\x08(~)?([^\x08]+)\x08/g,autoViewKey=0,autoTmplName=0,escapeMapForHtml={"&":"&amp;","<":"&lt;",">":"&gt;"},tmplAttr="data-jsv-tmpl",fnDeclStr="var j=j||"+(jQuery?"jQuery.":"js")+"views,",htmlSpecialChar=/[\x00"&'<>]/g,slice=Array.prototype.slice,render={},jsv={jsviews:versionNumber,sub:sub,debugMode:TRUE,err:function(e){return jsv.debugMode?("<br/><b>Error:</b> <em> "+(e.message||e)+". </em>"):'""'},tmplFn:tmplFn,render:render,templates:templates,tags:tags,helpers:helpers,converters:converters,View:View,convert:convert,delimiters:setDelimiters,tag:renderTag};function setDelimiters(openChars,closeChars){var firstOpenChar="\\"+openChars.charAt(0),secondOpenChar="\\"+openChars.charAt(1),firstCloseChar="\\"+closeChars.charAt(0),secondCloseChar="\\"+closeChars.charAt(1);jsv.rTag=rTag=secondOpenChar+"(?:(?:(\\w+(?=[\\/\\s"+firstCloseChar+"]))|(?:(\\w+)?(:)|(>)|(\\*)))\\s*((?:[^"+firstCloseChar+"]|"+firstCloseChar+"(?!"+secondCloseChar+"))*?)(\\/)?|(?:\\/(\\w+)))"+firstCloseChar;rTag=new RegExp(firstOpenChar+rTag+secondCloseChar,"g");rTmplString=new RegExp("<.*>|"+openChars+".*"+closeChars);return this}function getHelper(helper){var view=this,tmplHelpers=view.tmpl.helpers||{};helper=(view.ctx[helper]!==undefined?view.ctx:tmplHelpers[helper]!==undefined?tmplHelpers:helpers[helper]!==undefined?helpers:{})[helper];return typeof helper!=="function"?helper:function(){return helper.apply(view,arguments)}}function convert(converter,view,text){var tmplConverters=view.tmpl.converters;converter=tmplConverters&&tmplConverters[converter]||converters[converter];return converter?converter.call(view,text):text}function renderTag(tag,parentView,converter,content,tagObject){tagObject.props=tagObject.props||{};var ret,tmpl=tagObject.props.tmpl,tmplTags=parentView.tmpl.tags,nestedTemplates=parentView.tmpl.templates,args=arguments,tagFn=tmplTags&&tmplTags[tag]||tags[tag];if(!tagFn){return""}content=content&&parentView.tmpl.tmpls[content-1];tmpl=tmpl||content||undefined;tagObject.tmpl=""+tmpl===tmpl?nestedTemplates&&nestedTemplates[tmpl]||templates[tmpl]||templates(tmpl):tmpl;tagObject.isTag=TRUE;tagObject.converter=converter;tagObject.view=parentView;tagObject.renderContent=renderContent;if(parentView.ctx){extend(tagObject.ctx,parentView.ctx)}ret=tagFn.apply(tagObject,args.length>5?slice.call(args,5):[]);return ret||(ret==undefined?"":ret.toString())}function View(context,path,parentView,data,template,index){var views=parentView.views,self={tmpl:template,path:path,parent:parentView,data:data,ctx:context,views:$.isArray(data)?[]:{},hlp:getHelper};if($.isArray(views)){views.splice(self.index=index!==undefined?index:views.length,0,self)}else{views[self.index="_"+autoViewKey++]=self}return self}function addToStore(self,store,name,item,process){var key,onStore;if(name&&typeof name==="object"&&!name.nodeType){for(key in name){store(key,name[key])}return self}if(!name||item===undefined){if(process){item=process(undefined,item||name)}}else{if(""+name===name){if(item===null){delete store[name]}else{if(item=process?process(name,item):item){store[name]=item}}}}if(onStore=sub.onStoreItem){onStore(store,name,item,process)}return item}function templates(name,tmpl){return addToStore(this,templates,name,tmpl,compile)}function tags(name,tagFn){return addToStore(this,tags,name,tagFn)}function helpers(name,helperFn){return addToStore(this,helpers,name,helperFn)}function converters(name,converterFn){return addToStore(this,converters,name,converterFn)}var foo=/\{\{(?:(?:(\w+(?=[\/\s\}]))|(?:(\w+)?(:)|(>)|(\*)))\s*((?:[^\}]|\}(?!\}))*?)(\/)?|(?:\/(\w+)))\}\}/g;function renderContent(data,context,parentView,path,index){var i,l,dataItem,newView,itemWrap,itemsWrap,itemResult,parentContext,tmpl,layout,props={},swapContent=index===TRUE,self=this,result="";if(self.isTag){tmpl=self.tmpl;context=context||self.ctx;parentView=parentView||self.view;path=path||self.path;index=index||self.index;props=self.props}else{tmpl=self.jquery&&self[0]||self}parentView=parentView||jsv.topView;parentContext=parentView.ctx;layout=tmpl.layout;if(data===parentView){data=parentView.data;layout=TRUE}context=(context&&context===parentContext)?parentContext:(parentContext?((parentContext=extend({},parentContext),context)?extend(parentContext,context):parentContext):context||{});if(props.link===FALSE){context.link=FALSE}if(!tmpl.fn){tmpl=templates[tmpl]||templates(tmpl)}itemWrap=context.link&&sub.onRenderItem;itemsWrap=context.link&&sub.onRenderItems;if(tmpl){if($.isArray(data)&&!layout){newView=swapContent?parentView:(index!==undefined&&parentView)||View(context,path,parentView,data,tmpl,index);for(i=0,l=data.length;i<l;i++){dataItem=data[i];itemResult=tmpl.fn(dataItem,View(context,path,newView,dataItem,tmpl,(index||0)+i),jsv);result+=itemWrap?itemWrap(itemResult,props):itemResult}}else{newView=swapContent?parentView:View(context,path,parentView,data,tmpl,index);result+=(data||layout)?tmpl.fn(data,newView,jsv):""}parentView.topKey=newView.index;return itemsWrap?itemsWrap(result,path,newView.index,tmpl,props):result}return""}function syntaxError(){throw"Syntax error"}function tmplFn(markup,tmpl,bind){var newNode,node,i,l,code,hasTag,hasEncoder,getsValue,hasConverter,hasViewPath,tag,converter,params,hash,nestedTmpl,allowCode,tmplOptions=tmpl?{allowCode:allowCode=tmpl.allowCode,debug:tmpl.debug}:{},nested=tmpl&&tmpl.tmpls,astTop=[],loc=0,stack=[],content=astTop,current=[,,,astTop],nestedIndex=0;function pushPreceedingContent(shift){shift-=loc;if(shift){content.push(markup.substr(loc,shift).replace(rNewLine,"\\n"))}}function parseTag(all,tagName,converter,colon,html,code,params,slash,closeBlock,index){if(html){colon=":";converter="html"}var hash="",passedCtx="",block=!slash&&!colon;tagName=tagName||colon;pushPreceedingContent(index);loc=index+all.length;if(code){if(allowCode){content.push(["*",params.replace(rUnescapeQuotes,"$1")])}}else{if(tagName){if(tagName==="else"){current[5]=markup.substring(current[5],index);current=stack.pop();content=current[3];block=TRUE}params=(params?parseParams(params,bind).replace(rBuildHash,function(all,isCtx,keyValue){if(isCtx){passedCtx+=keyValue+","}else{hash+=keyValue+","}return""}):"");hash=hash.slice(0,-1);params=params.slice(0,-1);newNode=[tagName,converter||"",params,block&&[],"{"+(hash?("props:{"+hash+"},"):"")+"path:'"+params+"'"+(passedCtx?",ctx:{"+passedCtx.slice(0,-1)+"}":"")+"}"];if(block){stack.push(current);current=newNode;current[5]=loc}content.push(newNode)}else{if(closeBlock){current[5]=markup.substring(current[5],index);current=stack.pop()}}}if(!current){throw"Expected block tag"}content=current[3]}markup=markup.replace(rEscapeQuotes,"\\$1");markup.replace(rTag,parseTag);pushPreceedingContent(markup.length);l=astTop.length;code=(l?"":'"";');for(i=0;i<l;i++){node=astTop[i];if(""+node===node){code+='"'+node+'"+'}else{if(node[0]==="*"){code=code.slice(0,i?-1:-3)+";"+node[1]+(i+1<l?"ret+=":"")}else{tag=node[0];converter=node[1];params=node[2];content=node[3];hash=node[4];markup=node[5];if(content){nestedTmpl=TmplObject(markup,tmplOptions,tmpl,nestedIndex++);tmplFn(markup,nestedTmpl);nested.push(nestedTmpl)}hasViewPath=hasViewPath||hash.indexOf("view")>-1;code+=(tag===":"?(converter==="html"?(hasEncoder=TRUE,"e("+params):converter?(hasConverter=TRUE,'c("'+converter+'",view,'+params):(getsValue=TRUE,"((v="+params+')!=u?v:""')):(hasTag=TRUE,'t("'+tag+'",view,"'+(converter||"")+'",'+(content?nested.length:'""')+","+hash+(params?",":"")+params))+")+"}}}code=new Function("data, view, j, b, u",fnDeclStr+(getsValue?"v,":"")+(hasTag?"t=j.tag,":"")+(hasConverter?"c=j.convert,":"")+(hasEncoder?"e=j.converters.html,":"")+"ret; try{\n\n"+(tmplOptions.debug?"debugger;":"")+(allowCode?"ret=":"return ")+code.slice(0,-1)+";\n\n"+(allowCode?"return ret;":"")+"}catch(e){return j.err(e);}");if(tmpl){tmpl.fn=code;tmpl.useVw=hasConverter||hasViewPath||hasTag}return code}function parseParams(params,bind){var named,fnCall={},parenDepth=0,quoted=FALSE,aposed=FALSE;function parseTokens(all,lftPrn0,lftPrn,path,operator,err,eq,path2,prn,comma,lftPrn2,apos,quot,rtPrn,prn2,space){operator=operator||"";lftPrn=lftPrn||lftPrn0||lftPrn2;path=path||path2;prn=prn||prn2||"";operator=operator||"";function parsePath(all,object,helper,view,viewProperty,pathTokens,leafToken){if(object){var ret=(helper?'view.hlp("'+helper+'")':view?"view":"data")+(leafToken?(viewProperty?"."+viewProperty:helper?"":(view?"":"."+object))+(pathTokens||""):(leafToken=helper?"":view?viewProperty||"":object,""));if(bind&&prn!=="("){ret="b("+ret+',"'+leafToken+'")'}return ret+(leafToken?"."+leafToken:"")}return all}if(err){syntaxError()}else{return(aposed?(aposed=!apos,(aposed?all:'"')):quoted?(quoted=!quot,(quoted?all:'"')):((lftPrn?(parenDepth++,lftPrn):"")+(space?(parenDepth?"":named?(named=FALSE,"\b"):","):eq?(parenDepth&&syntaxError(),named=TRUE,"\b"+path+":"):path?(path.replace(rPath,parsePath)+(prn?(fnCall[++parenDepth]=TRUE,prn):operator)):operator?all:rtPrn?((fnCall[parenDepth--]=FALSE,rtPrn)+(prn?(fnCall[++parenDepth]=TRUE,prn):"")):comma?(fnCall[parenDepth]||syntaxError(),","):lftPrn0?"":(aposed=apos,quoted=quot,'"'))))}}params=(params+" ").replace(rParams,parseTokens);return params}function compile(name,tmpl,parent,options){var tmplOrMarkup,elem,key,nested,nestedItem;function tmplOrMarkupFromStr(value){if((""+value===value)||value.nodeType>0){elem=value.nodeType>0?value:!rTmplString.test(value)&&jQuery&&jQuery(value)[0];if(elem&&elem.type){value=templates[elem.getAttribute(tmplAttr)];if(!value){name=name||"_"+autoTmplName++;elem.setAttribute(tmplAttr,name);value=compile(name,elem.innerHTML,parent,options);templates[name]=value}}return value}}tmplOrMarkup=tmplOrMarkupFromStr(tmpl);options=options||(tmpl.markup?tmpl:{});options.name=name;nested=options.templates;if(!tmplOrMarkup&&tmpl.markup&&(tmplOrMarkup=tmplOrMarkupFromStr(tmpl.markup))){if(tmplOrMarkup.fn&&(tmplOrMarkup.debug!==tmpl.debug||tmplOrMarkup.allowCode!==tmpl.allowCode)){tmplOrMarkup=tmplOrMarkup.markup}}if(tmplOrMarkup!==undefined){if(name&&!parent){render[name]=function(){return tmpl.render.apply(tmpl,arguments)}}if(tmplOrMarkup.fn||tmpl.fn){if(tmplOrMarkup.fn){if(name&&name!==tmplOrMarkup.name){tmpl=extend(extend({},tmplOrMarkup),options)}else{tmpl=tmplOrMarkup}}}else{tmpl=TmplObject(tmplOrMarkup,options,parent,0);tmplFn(tmplOrMarkup,tmpl)}for(key in nested){nestedItem=nested[key];if(nestedItem.name!==key){nested[key]=compile(key,nestedItem,tmpl)}}return tmpl}}function TmplObject(markup,options,parent,index){function extendStore(storeName){if(parent[storeName]){tmpl[storeName]=extend(extend({},parent[storeName]),options[storeName])}}options=options||{};var tmpl={markup:markup,tmpls:[],links:[],render:renderContent};if(parent){if(parent.templates){tmpl.templates=extend(extend({},parent.templates),options.templates)}tmpl.parent=parent;tmpl.name=parent.name+"["+index+"]";tmpl.index=index}extend(tmpl,options);if(parent){extendStore("templates");extendStore("tags");extendStore("helpers");extendStore("converters")}return tmpl}if(jQuery){$=jQuery;$.templates=templates;$.render=render;$.views=jsv;$.fn.render=renderContent}else{$=window.jsviews=jsv;$.extend=function(target,source){var name;target=target||{};for(name in source){target[name]=source[name]}return target};$.isArray=Array&&Array.isArray||function(obj){return Object.prototype.toString.call(obj)==="[object Array]"}}extend=$.extend;jsv.topView={views:{},tmpl:{},hlp:getHelper,ctx:jsv.helpers};function replacerForHtml(ch){return escapeMapForHtml[ch]||(escapeMapForHtml[ch]="&#"+ch.charCodeAt(0)+";")}tags({"if":function(){var ifTag=this,view=ifTag.view;view.onElse=function(tagObject,args){var i=0,l=args.length;while(l&&!args[i++]){if(i===l){return""}}view.onElse=undefined;tagObject.path="";return tagObject.renderContent(view)};return view.onElse(this,arguments)},"else":function(){var view=this.view;return view.onElse?view.onElse(this,arguments):""},"for":function(){var i,self=this,result="",args=arguments,l=args.length;if(self.props.layout){self.tmpl.layout=TRUE}for(i=0;i<l;i++){result+=self.renderContent(args[i])}return result},"=":function(value){return value},"*":function(value){return value}});converters({html:function(text){return text!=undefined?String(text).replace(htmlSpecialChar,replacerForHtml):""}});setDelimiters("{{","}}")})(this);(function($){$.extend({jGFeed:function(url,fnk,num,key){if(url==null){return false}var gurl="http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&callback=?&q="+url;if(num!=null){gurl+="&num="+num}if(key!=null){gurl+="&key="+key}$.getJSON(gurl,function(data){if(typeof fnk=="function"){fnk.call(this,data.responseData.feed)}else{return false}})}})})(jQuery);